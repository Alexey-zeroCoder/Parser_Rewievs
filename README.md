# Парсер отзывов с сайта VseOtzyvy.ru

Этот проект представляет собой асинхронный парсер отзывов с сайта [VseOtzyvy.ru](https://vseotzyvy.ru). Он собирает отзывы по различным категориям и объектам (товарам, услугам), сохраняет их в текстовый файл и базу данных SQLite, а также предоставляет базовую статистику по собранным данным.

## Описание

Проект предназначен для сбора и анализа отзывов с сайта VseOtzyvy.ru.  Он позволяет:

*   **Автоматически обходить категории и объекты** на сайте, не требуя ручного ввода URL.
*   **Асинхронно скачивать страницы**, что значительно ускоряет процесс сбора данных.
*   **Обрабатывать и очищать текст отзывов**, удаляя лишние пробелы и пустые строки.
*   **Проверять отзывы на наличие ненормативной лексики** (с использованием списка стоп-слов).
*   **Сохранять отзывы** в текстовый файл и базу данных SQLite.
*   **Сохранять прогресс парсинга**, что позволяет возобновить работу с прерванного места.
*    **Предоставляет статистику** по собранным отзывам (количество, распределение по длине, наличие мата, распределение по категориям и объектам, распределение по датам).

**Используемые технологии:**

*   **Python 3**
*   **aiohttp:**  Асинхронный HTTP клиент/сервер.
*   **BeautifulSoup4:**  Библиотека для парсинга HTML и XML.
*   **SQLite3:**  Встраиваемая база данных SQL.
*   **asyncio:**  Библиотека для асинхронного программирования.
*   **pandas:**  Используется при загрузке данных (но не является строгой зависимостью).
*   **datetime:** Используется при работе с датами.
*    **re** : Используется для регулярных выражений.

## Установка

1.  **Клонируйте репозиторий:**

    ```bash
    git clone https://github.com/Alexey-zeroCoder/Parser_Rewievs.git
    ```

2.  **Перейдите в каталог проекта:**

    ```bash
    cd Parser_Rewievs
    ```

3.  **Создайте виртуальное окружение (рекомендуется):**

    ```bash
    python3 -m venv venv
    ```

4.  **Активируйте виртуальное окружение:**

    *   **macOS/Linux:**
        ```bash
        source venv/bin/activate
        ```
    *   **Windows:**
        ```bash
        venv\Scripts\activate
        ```

5.  **Установите зависимости:**

    ```bash
    pip install -r requirements.txt
    ```

6. **Создайте файл `mat_words.txt`**
В корне проекта создайте файл `mat_words.txt` и поместите туда список ненормативных слов, каждое слово на новой строке.

## Использование

1.  **Запустите парсер:**

    ```bash
    python main.py
    ```

    Парсер начнёт обходить сайт VseOtzyvy.ru, начиная с главной страницы, и собирать отзывы.  Прогресс будет выводиться в консоль.

2.  **Прогресс парсинга сохраняется в файле `progress.txt`**. Если парсинг будет прерван, при следующем запуске он продолжится с того места, где остановился.

3.  **Собранные отзывы сохраняются в:**

    *   **`reviews.txt`:**  Текстовый файл (для резервного копирования и удобства просмотра).
    *   **`reviews.db`:**  База данных SQLite (для структурированного хранения и анализа).

4. **Получение статистики:**

   Запустите скрипт `statistics.py`

   ```bash
   python statistics.py

Скрипт выведет в консоль различную статистику по собранным отзывам. Вы можете добавить в него свои функции для получения нужной вам статистики.

Структура проекта
main.py: Основной скрипт парсера. Содержит логику обхода сайта, скачивания страниц, обработки отзывов и сохранения данных.

statistics.py: Скрипт для получения статистики по собранным отзывам.

reviews.db: База данных SQLite, в которой хранятся отзывы.

reviews.txt: Текстовый файл, в которой хранятся отзывы

requirements.txt: Список зависимостей Python.

mat_words.txt: Файл со списком ненормативных слов (каждое слово на новой строке). Этот файл нужно создать самостоятельно.

progress.txt: Файл для сохранения прогресса парсинга.

venv: Каталог виртуального окружения (создаётся при выполнении python3 -m venv venv).

Weather_Example.py: файл не относится к проекту, просто пример работы с request.

Настройки
MAX_CONCURRENCY (в main.py): Максимальное количество одновременных запросов. Вы можете изменить это значение, чтобы ускорить парсинг, но не устанавливайте слишком большое значение, чтобы не перегружать сайт.

BASE_URL (в main.py): Базовый URL сайта, с которого начинается парсинг.

REVIEWS_FILE (в main.py): Имя файла для сохранения отзывов в текстовом формате.

MAT_WORDS_FILE (в main.py): Имя файла со списком ненормативных слов.

PROGRESS_FILE (в main.py): Имя файла для сохранения прогресса парсинга.

DB_FILE (в main.py и statistics.py): Имя файла базы данных SQLite.

Предупреждения
Интенсивный парсинг может привести к блокировке вашего IP-адреса сайтом. Используйте разумные задержки между запросами (управляйте параметром MAX_CONCURRENCY) и не пытайтесь скачать весь сайт за один раз.

Структура сайта VseOtzyvy.ru может измениться. Если это произойдёт, парсер может перестать работать. Вам потребуется обновить селекторы в коде (в функциях, использующих BeautifulSoup).

Данный код предназначен для учебных целей и не предназначен для коммерческого использования.
